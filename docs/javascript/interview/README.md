# JavaScript 概念题目

## 什么是作用域 ？
- <font color="#f28500">浏览器给代码的执行环境，可以理解为是一个作用域</font>

## 什么是私有作用域
- 一个函数执行，会产生一个私有的作用域，用来提供JS代码执行的环境

## 什么是作用域链
- <font color="#f28500">在私有的作用域中，当执行遇到变量时，首先会在私有作用域中查找，如果没有，会往上级作用域查找，一直找到 window为止，这种查找方式就叫做”作用域链“</font>

## 什么是闭包？
- <font color="#f28500"> 简单理解为，一个函数就是一个闭包。</font>函数形成私有作用域保护了里面的变量不受外面干扰，外面不能修改，这种机制就叫”闭包“

## js 执行 this 的几种情况
1. 给元素绑定事件 tag.onclick = fucntion(){} this 是 tag
2. 自执行函数的 this  是 window
3. 函数执行前的主体如 fn() -> this 是 window， obj.fn() -> this 是 obj
4. 当构造函数运行的时候，this 就是当前构造函数创建的示例。

## 介绍下观察者模式和订阅-发布模式的区别，各适应于什么场景
### 观察者模式
> 观察者模式在软件中是一个对象，维护一个依赖列表，单任何状态发送改变自动通知他们。
- 假如你正在找工作，对某个大厂 A 感兴趣。你联系了 A 的 HR 给了他你的联系方式，有合适的工作时，会通知你。 这里可能还有其他几位候选人也感兴趣，所以职位空缺大家都知道，如果你回应了他们的通知，HR 就会联系你去面试。
- 上面观察者模式的关系， A 公司就是 subject ，用来维护 Observer （和你一样的候选人），为某些 event（职位的空缺） 来 通知（notify）观察者。

### 发布-订阅设计模式
- 在观察者模式中 Subject 就像一个发布者，观察者 Observer 完全和订阅者 Subscriber 关联。subject 通知观察者就像一个发布者通知他的订阅者。这也就是发布-订阅 概念来解释观察者设计模式。但是这里还有另外一个流行的模式叫做发布-订阅设计模式。它的概念和观察者模式非常类似。
- 发布-订阅模式，消息的发送发，叫发布者（publishers），消息不会直接发送给特定的接受者，叫做订阅者。
- 意思是发布者和订阅者不知道对法的存在。需要一个第三方组件，叫做”信息中介“，它将订阅和发布者串联起来，它过滤的分配所有输入的消息。发布-订阅模式用来处理不同系统组件的信息交流，即使这些组件不知道对方的存在。

### 总结
- <font color="#f28500"> 在观察者模式中，观察者是知道 Subject的，Subject 一直保持对观察者进行记录。然而 发布订阅模式中，”发布者和订阅者不知道对象的存在“，它们只有通过消息代理进行通信。</font>
- 在发布订阅模式中，<font color="#f28500">组件是松散耦合的，正好和观察者模式相反。</font>
- <font color="red">> 观察者模式大多数时候是同步的，</font>例如：当事件触发，Subject 就会去调用观察者的方法。<font color="#f28500">而 ”发布-订阅“模式大多数的时候是异步的（使用消息队列）</font>
- <font color="#f28500">观察者 模式需要在单个应用程序地址空间中实现，</font><font color="red">而发布-订阅更像交叉应用模式。</font>

## 浏览器和Node事件循环的区别
- 微任务和宏任务在Node的执行顺序
  - Node 10以前：
  > 执行完一个阶段的所有任务，执行完nextTick队列里面的内容，然后执行完微任务队列的内容
  - Node 11以后：
  > <font color="red"> 和浏览器的行为统一了，都是每执行一个宏任务就执行完微任务队列。</font>
